language: ruby
gemfile:
- gemfiles/travis.gemfile
rvm:
- 1.9.3
env:
  global:
  matrix:
  - KITCHEN_INSTANCE='default-ubuntu-1204'
  - KITCHEN_INSTANCE='default-ubuntu-1004'
  - KITCHEN_INSTANCE='default-centos-64'
  - KITCHEN_INSTANCE='default-centos-53'
  - KITCHEN_INSTANCE='add-servers-ubuntu-1204'
  - KITCHEN_INSTANCE='add-servers-ubuntu-1004'
  - KITCHEN_INSTANCE='add-servers-centos-64'
  - KITCHEN_INSTANCE='add-servers-centos-53'
  - KITCHEN_INSTANCE='del-servers-ubuntu-1204'
  - KITCHEN_INSTANCE='del-servers-ubuntu-1004'
  - KITCHEN_INSTANCE='del-servers-centos-64'
  - KITCHEN_INSTANCE='del-servers-centos-53'
script:
- bundle exec foodcritic ./ -f 'any'
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy $KITCHEN_INSTANCE
notifications:
  email:
  - abutovich@qubell.com
